---
id: nats
title: NATS
sidebar_label: NATS
description: NATS
keywords:
  - nats
  - nats
---

## Installation

```shell
helm repo add nats https://nats-io.github.io/k8s/helm/charts
```

```shell
helm repo update nats \
&& helm search repo nats/nats -l | head -n 10
```

```shell
helm show values nats/nats \
    --version 0.17.1 \
    > values.yaml
```

```yaml
nats:
  resources:
    requests:
      cpu: 1
      memory: 2Gi
    limits:
      cpu: 2
      memory: 2Gi

  jetstream:
    enabled: true

    memStorage:
      enabled: false
      size: 1Gi

    fileStorage:
      enabled: true
      storageDirectory: /data
      size: 10Gi
      accessModes:
        - ReadWriteOnce

affinity:
  podAntiAffinity:
    preferredDuringSchedulingIgnoredDuringExecution:
      - podAffinityTerm:
          labelSelector:
            matchLabels:
              app.kubernetes.io/name: nats
              app.kubernetes.io/instance: nats
          topologyKey: kubernetes.io/hostname
        weight: 100

cluster:
  enabled: true
  replicas: 3
```

```shell
helm upgrade nats nats/ntas \
    --install \
    --version 0.17.1 \
    -n workflow \
    -f values.yaml
```
