---
id: poetry
title: poetry
sidebar_label: poetry
description: poetry
keywords:
  - poetry
---

## 설치

- https://python-poetry.org/docs/#installing-with-the-official-installer

```shell
curl -sSL https://install.python-poetry.org | python3 -
```

```shell title=".zshrc"
export PATH=$HOME/.local/bin:$PATH
```

```shell
poetry self update
```

```shell
curl -sSL https://install.python-poetry.org | python3 - --uninstall
```

## Virtualenv

```shell
poetry init
```

```shell
poetry shell
```

가상환경이 활성화된 shell에 접속합니다.

```shell
poetry env remove python \
&& deactivate
```

가상환경을 삭제합니다.

:::info
poetry가 생성한 가상환경의 python 버전이 원하는 버전과 안맞는 경우, 가상환경을 삭제한 다음 `poetry env use <pythonPath>`로 python을 직접 지정하여 가상환경을 생성할 수 있습니다.
:::

## Package

```shell
poetry add <package|git|path>
```

- `--dev`: 개발용 패키지인 경우 이 옵션을 사용합니다.
- `<git>`: `<vcs_type>+<scheme>://<location>/<user_or_organization>/<repository>@<branch_or_tag>#<package_name>`
  - `<vcs_type>`: `git`
  - `<scheme>`: `http`, `https`, `ssh`

```shell
poetry update <package>
```

```shell
poetry remove <package>
```

## Sync

### poetry.lock

```shell
poetry install
```

- `--no-dev`: dev 의존성을 제외하고 설치합니다.
- `--no-root`: 개발 중인 패키지를 editable 상태로 설치하는 것을 제외하고 설치합니다.
- `--remove-untracked`: lock 파일에 더 이상 존재 하지 않는 것은 삭제합니다.

### requirements.txt

```shell
poetry export -f requirements.txt --output requirements.txt
```

```shell
pip install -r requirements.txt
```

## Reference

- https://python-poetry.org/docs/cli/
