---
id: node-feature-discovery
title: Node Feature Discovery(NFD) 설치 가이드
sidebar_label: Node Feature Discovery
description: Node Feature Discovery(NFD) 설치 가이드
keywords:
  - node feature discovery
  - nfd
---

## 설치

:::info[References]

- [Nde Feature Discovery / Deployment / Helm](https://kubernetes-sigs.github.io/node-feature-discovery/stable/deployment/helm.html)

:::

```shell
helm pull oci://registry.k8s.io/nfd/charts/node-feature-discovery --version 0.18.3
```

```shell
helm show values oci://registry.k8s.io/nfd/charts/node-feature-discovery \
  --version 0.18.3 \
  > node-feature-discovery-0.18.3.yaml
```

```yaml title="node-feature-discovery-values.yaml"
fullnameOverride: node-feature-discovery

priorityClassName: system-node-critical

master:
  enableTaints: true

worker:
  tolerations: []

  config: {}
```

- `worker`
  - `config`
    - [Nde Feature Discovery / Reference / Worker config](https://kubernetes-sigs.github.io/node-feature-discovery/stable/reference/worker-configuration-reference.html)
    - `core`
    - `sources`
      - `pci`
        - `deviceClassWhitelist: [<mainClass|class>]`
          - [PCI ID Repository / Device classes](https://admin.pci-ids.ucw.cz/read/PD/)
          - `<class>`==`<mainClass><subClass>`
          - `<mainClass>`만 선언하면 모든 `<subClass>`가 포함됩니다.
          - 기본값: `["03", "0b40", "12"]`
          - 03: Display controller
          - 0300: Display controller -\> VGA compatible controller
        - `deviceLabelFields: [class|vendor|device|subsystem_vendor|subsystem_device]`
          - [PCI ID Repository / Vendors](https://admin.pci-ids.ucw.cz/read/PC/)
          - 기본값: `[class, vendor]`
          - 기본값인 경우 `feature.node.kubernetes.io/pci-<class-id>_<vendor-id>.present=true` 형식으로 label이 생성됩니다.

```shell
helm template nfd oci://registry.k8s.io/nfd/charts/node-feature-discovery \
  --version 0.18.3 \
  -n node-feature-discovery \
  -f node-feature-discovery-values.yaml \
  > node-feature-discovery.yaml
```

```shell
helm upgrade -i nfd oci://registry.k8s.io/nfd/charts/node-feature-discovery \
  --history-max 5 \
  --create-namespace \
  --version 0.18.3 \
  -n node-feature-discovery \
  -f node-feature-discovery-values.yaml
```
