---
id: kubevirt
title: KubeVirt 설치 가이드
sidebar_label: 설치 가이드
description: KubeVirt 설치 가이드
keywords:
  - kubevirt
---

## 설치

### KubeVirt Operator

:::info[References]

- [KubeVirt Docs / Cluster Administration / Installation](https://kubevirt.io/user-guide/cluster_admin/installation/)
- [KubeVirt GitHub / Releases](https://github.com/kubevirt/kubevirt/releases)

:::

```shell
kubectl apply -f https://github.com/kubevirt/kubevirt/releases/download/v1.6.0/kubevirt-operator.yaml
```

```yaml
apiVersion: kubevirt.io/v1
kind: KubeVirt
metadata:
  name: kubevirt
  namespace: kubevirt
spec:
  certificateRotateStrategy: {}
  configuration:
    developerConfiguration:
      featureGates: []
  customizeComponents: {}
  imagePullPolicy: IfNotPresent
  workloadUpdateStrategy: {}
  infra:
    replicas: 1
```

- `infra`
  - infrastructure component로는 virt-controller, virt-api가 있습니다.
  - `replicas: 2`
  - `nodePlacement`
    - `affinity: {}`
      - [Affinity](/docs/mlops/kubernetes/scheduling/affinity.mdx)
    - `nodeSelector: {}`
    - `tolerations: []`
      - [Taints and Tolerations](/docs/mlops/kubernetes/scheduling/taint-toleration.mdx)
- `workloads`
  - workload components로는 virt-handler가 있습니다.

### Containerized Data Importer (CDI)

:::info[References]

- [KubeVirt Docs / Storage / Containerized Data Importer](https://kubevirt.io/user-guide/storage/containerized_data_importer/)
- [Containerized Data Importer GitHub / releases](https://github.com/kubevirt/containerized-data-importer/releases)

:::

```shell
kubectl apply -f https://github.com/kubevirt/containerized-data-importer/releases/download/v1.62.0/cdi-operator.yaml
```

```yaml
apiVersion: cdi.kubevirt.io/v1beta1
kind: CDI
metadata:
  name: cdi
spec:
  config:
    featureGates:
      - HonorWaitForFirstConsumer
  imagePullPolicy: IfNotPresent
  infra:
    nodeSelector:
      kubernetes.io/os: linux
    tolerations:
      - key: CriticalAddonsOnly
        operator: Exists
  workload:
    nodeSelector:
      kubernetes.io/os: linux
```

### virtctl

```shell
kubectl krew install virt
```
