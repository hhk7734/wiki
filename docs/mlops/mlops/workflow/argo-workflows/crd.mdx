---
id: crd
title: Argo Workflows CRD
sidebar_label: CRD
description: Argo Workflows CRD
keywords:
  - argo
  - workflows
  - CRD
---

## Workflow

- https://argoproj.github.io/argo-workflows/fields/#workflowspec

```yaml
apiVersion: argoproj.io/v1alpha1
kind: Workflow
metadata:
  generateName: hello-world-
spec:
  entrypoint: <templateName> # 처음 시작되어야 할 템플릿 이름
  templates:
    - <template>
```

### `entrypoint` and `templates`

- [Argo Workflow entrypoint and templates](/docs/mlops/mlops/workflow/argo-workflows/entrypoint-templates)

### `podGC`

- https://argoproj.github.io/argo-workflows/fields/#podgc

### `volumes`

`container`가 마운트할 수 있는 볼륨 목록을 선언할 수 있습니다.

- https://argoproj.github.io/argo-workflows/fields/#volume

```yaml
spec:
  volumes:
    - name: <volumeName>
      persistentVolumeClaim:
        claimName: <existingPvcName>

  templates:
    - name: <templateName>
      container:
        image: ubuntu:20.04
        command:
          - ls
        args:
          - /mnt/vol
        volumeMounts:
          - name: <volumeName>
            mountPath: /mnt/vol
```

```yaml
spec:
  volumeClaimGC:
    strategy: OnWorkflowSuccess # OnWorkflowSuccess | OnWorkflowCompletion
  volumeClaimTemplates:
    - metadata:
        name: <pvcSuffix> # PersistentVolumeClaim 이름은 <workflowName>-<pvcSuffix> 형태로 생성됩니다.
      spec:
        accessModes: [ReadWriteOnce]
        resources:
          requests:
            storage: 1Gi

  templates:
    - name: <templateName>
      container:
        image: ubuntu:20.04
        command:
          - ls
        args:
          - /mnt/vol
        volumeMounts:
          - name: <pvcSuffix>
            mountPath: /mnt/vol
```

## Variables

- https://argoproj.github.io/argo-workflows/variables/

## Reference

- https://argoproj.github.io/argo-workflows/workflow-concepts/
- https://argoproj.github.io/argo-workflows/fields/
