---
id: etc
title: Etc
sidebar_label: Etc
description: Etc
keywords:
  - etc
---

## kubectl

- https://github.com/asdf-community/asdf-kubectl

```shell
asdf plugin add kubectl
```

```shell
asdf list all kubectl
```

```Shell
asdf install kubectl 1.21.14
```

```shell
asdf global kubectl 1.21.14
```

```shell
asdf local kubectl 1.21.14
```

```shell
asdf current kubectl
```

```shell title=".zshrc"
source <(kubectl completion zsh)
alias k=kubectl
complete -F __start_kubectl k
```

## krew

- https://krew.sigs.k8s.io/docs/user-guide/quickstart/

```shell
(
  set -x; cd "$(mktemp -d)" &&
  OS="$(uname | tr '[:upper:]' '[:lower:]')" &&
  ARCH="$(uname -m | sed -e 's/x86_64/amd64/' -e 's/\(arm\)\(64\)\?.*/\1\2/' -e 's/aarch64$/arm64/')" &&
  KREW="krew-${OS}_${ARCH}" &&
  curl -fsSLO "https://github.com/kubernetes-sigs/krew/releases/latest/download/${KREW}.tar.gz" &&
  tar zxvf "${KREW}.tar.gz" &&
  ./"${KREW}" install krew
)
```

```shell title=".zshrc"
export PATH="${KREW_ROOT:-$HOME/.krew}/bin:$PATH"
```

### ctx

- https://github.com/ahmetb/kubectx#installation

```shell
kubectl krew install ctx
```

```shell
kubectl ctx
```

### ns

- https://github.com/ahmetb/kubectx#installation

```shell
kubectl krew install ns
```

```shell
kubectl ns
```

### oidc-login

- https://github.com/int128/kubelogin#getting-started

```shell
kubectl krew install oidc-login
```

```yaml title=".kube/config"
apiVersion: v1
kind: Config
preferences: {}
users:
  - name: <name>
    user:
      exec:
        apiVersion: client.authentication.k8s.io/v1beta1
        command: kubectl
        args:
          - oidc-login
          - get-token
          - --oidc-issuer-url=<issuer-url>
          - --oidc-client-id=<client-id>
          - --oidc-client-secret=<client-secret>
```

### ksniff

ksniff는 static-tcpdump 바이너리를 Pod에 주입하여 실행한 후 출력되는 로그를 wireshark에서 읽을 수 있도록 변환해주는 툴입니다. 권한 문제로 캡쳐가 안되는 경우에는 `-p` 옵션을 사용하여 같은 Node에 새로운 Pod을 추가하여 캡쳐를 수행할 수 있습니다.

```shell
kubectl krew install ksniff
```

```shell
kubectl sniff <pod> [-n <namespace>] [-p]
```

## k9s

- https://k9scli.io/topics/install/
- https://k9scli.io/topics/commands/
- https://k9scli.io/topics/rbac/

```shell
sudo mkdir -p /opt/k9s/0.26.7 \
&& cd /opt/k9s/0.26.7 \
&& sudo wget https://github.com/derailed/k9s/releases/download/v0.26.7/k9s_Linux_x86_64.tar.gz \
&& sudo tar xzf k9s_Linux_x86_64.tar.gz
```

```shell title=".zshrc"
export PATH=/opt/k9s/0.26.7:$PATH
```
