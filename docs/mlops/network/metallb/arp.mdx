---
id: arp
title: MetalLB ARP/NDP 사용하기
sidebar_label: ARP/NDP
description: MetalLB에서 Address Resolution Protocol(ARP)와 Neighbor Discovery Protocol(NDP) 사용하기
keywords:
  - metallb
  - arp
  - ndp
---

## L2Advertisement

:::info[Reference]

- [MetalLB / Configuration / Advanced L2 configuration](https://metallb.universe.tf/configuration/_advanced_l2_configuration/)
- [MetalLB / API reference # L2AdvertisementSpec](https://metallb.io/apis/#l2advertisementspec)

:::

```yaml
apiVersion: metallb.io/v1beta1
kind: L2Advertisement
metadata:
  name: <name>
  namespace: metallb-system
spec:
  ipAddressPools:
    - <poolName>
```

- `ipAddressPools: []`
- `ipAddressPoolSelectors: []`
  - [LabelSelector](/docs/mlops/kubernetes/object-management/label#label-selector)
- `nodeSelectors: []`
- `interfaces: []`

:::warning
에러 로그 없이 로드밸런싱이 되지 않는다면, 노드에 네트워크 이상(`NetworkUnavailable`)이 있거나 `node.kubernetes.io/exclude-from-external-load-balancers` 레이블이 있어서 사용 가능한 노드를 찾지 못한 경우일 수 있습니다.

`node.kubernetes.io/exclude-from-external-load-balancers`가 있는 노드를 사용하고 싶은 경우 speaker의 `--ignore-exclude-lb` 옵션을 활성화해야합니다.
:::
