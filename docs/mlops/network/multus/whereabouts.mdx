---
id: whereabouts
title: Cluster-wide IPAM CNI plugin, whereabouts
sidebar_label: whereabouts(IPAM)
description: Cluster-wide IPAM CNI plugin, whereabouts
keywords:
  - cni
  - whereabouts
  - IPAM
---

## 설치

:::info[Reference]

- [whereabouts GitHub / chart](https://github.com/k8snetworkplumbingwg/whereabouts/tree/master/deployment/whereabouts-chart)

:::

```shell
helm pull oci://ghcr.io/k8snetworkplumbingwg/whereabouts-chart --version 0.9.2
```

```shell
helm show values oci://ghcr.io/k8snetworkplumbingwg/whereabouts-chart --version 0.9.2 \
  > whereabouts-0.9.2.yaml
```

```yaml title="whereabouts-values.yaml"
fullnameOverride: "whereabouts"

nodeSliceController:
  # Experimental
  enabled: false
```

```shell
helm template whereabouts oci://ghcr.io/k8snetworkplumbingwg/whereabouts-chart \
  --version 0.9.2 \
  -n kube-system \
  -f whereabouts-values.yaml \
  > whereabouts.yaml
```

```shell
helm upgrade -i whereabouts oci://ghcr.io/k8snetworkplumbingwg/whereabouts-chart \
  --history-max 5 \
  --version 0.9.2 \
  -n kube-system \
  -f whereabouts-values.yaml
```

## 설정

```yaml
apiVersion: "k8s.cni.cncf.io/v1"
kind: NetworkAttachmentDefinition
spec:
  config: |
    {
      "cniVersion": "0.3.1",
      "name": "xxx",

      // ...

      "ipam": {
          "type": "whereabouts"
      }
    }
```

- `ipam`
  - `range: <ip>/<cidr>`
  - `range_start: <ip>`
    - 설정하지 않으면 `range`로부터 추측합니다.
  - `range_end: <ip>`
    - 설정하지 않으면 `range`로부터 추측합니다.
  - `ipRanges: []`
    - `range: <ip>/<cidr>`
  - `exclude: [<ip>/<cidr>]`
  - `node_slice_size: /<cidr>`
