---
id: route
title: Gateway API로 라우팅 관리하기
sidebar_label: 라우팅 관리하기
description: Gateway API로 라우팅 관리하기
keywords:
  - gateway-api
  - route
---

## Gateway

:::info[Reference]

- [Gateway API / API specification / Standard # Gateway](https://gateway-api.sigs.k8s.io/reference/spec/#gateway)

:::

```yaml
apiVersion: gateway.networking.k8s.io/v1
kind: Gateway
spec:
  gatewayClassName: <gatewayClassName>
  listeners:
    - name: http
      protocol: HTTP
      port: 80
      allowedRoutes:
        namespaces:
          from: Same
    - name: https
      protocol: HTTPS
      port: 443
      tls:
        name: Terminate
        certificateRefs:
          - name: <secretName>
      allowedRoutes:
        namespaces:
          from: Same
```

- `gatewayClassName: <name>`
- `listeners: []`
- `infrastructure`
  - `labels`
  - `annotations`
  - `parametersRef`
    - GatewayClass가 인식할 수 있는 리소스를 설정하면 Gateway에 의해 생성되는 리소스를 정의할 수 있습니다.
    - `group`
    - `kind`
    - `name`

## HTTPRoute

:::info[Reference]

- [Gateway API / API specification / Standard # HTTPRoute](https://gateway-api.sigs.k8s.io/reference/spec/#httproute)

:::

```yaml
apiVersion: gateway.networking.k8s.io/v1
kind: HTTPRoute
spec:
  hostnames:
    - <host>
  parentRefs:
    - name: <gatewayName>
      namespace: <gatewayNamespace>
  rules:
    - matches:
        - path:
            type: PathPrefix
            value: /
      backendRefs:
        - name: <serviceName>
          port: <servicePort>
```

- `rules: []`
  - `matches: []`
    - 리스트 중 하나라도 일치하면 라우팅됩니다.
    - `path`, `headers`, `queryParams`, `method`를 조합할 수 있으며, AND 조건으로 처리됩니다.
    - `path`
      - `type: PathPrefix|RegularExpression`
      - `value: <path>`
  - `backendRefs: []`
    - `group: <group>`
    - `kind: Service`
    - `name: <name>`
    - `namespace: <namespace>`
    - `port: <port>`

## GRPCRoute

:::info[Reference]

- [Gateway API / API specification / Standard # GRPCRoute](https://gateway-api.sigs.k8s.io/reference/spec/#grpcroute)

:::

```yaml
apiVersion: gateway.networking.k8s.io/v1
kind: GRPCRoute
spec:
  hostnames:
    - <host>
  parentRefs:
    - name: <gatewayName>
      namespace: <gatewayNamespace>
  rules:
    - matches:
        - method:
            type: Exact
            service: <service>
      backendRefs:
        - name: <serviceName>
          port: <servicePort>
```

- `rules: []`
  - `matches: []`
    - 리스트 중 하나라도 일치하면 라우팅됩니다.
    - `method`, `headers`를 조합할 수 있으며, AND 조건으로 처리됩니다.
    - `method`
      - `service` 또는 `method` 중 적어도 하나는 설정해야 합니다.
      - `type: Exact|RegularExpression`
      - `service: <service>`
        - service를 설정하지 않으면 모든 service가 일치합니다.
      - `method: <method>`
        - method를 설정하지 않으면 모든 method가 일치합니다.
  - `backendRefs: []`
    - `group: <group>`
    - `kind: Service`
    - `name: <name>`
    - `namespace: <namespace>`
    - `port: <port>`

## TCPRoute

## ReferenceGrant
