---
id: transform
title: Vector Transform(변환하기)
sidebar_label: Transform(변환하기)
description: Vector Transform(변환하기)
keywords:
  - vector
  - transform
---

## Transform 설정 방법

```yaml title="vector-values.yaml"
customConfig:
  transforms:
    <transformID>:
      type: <transformType>
      inputs:
        - <sourceID|transformID>
      <option>: <value>
```

## Remap with VRL

:::info[References]

- [Vector / Remap with VRL](https://vector.dev/docs/reference/configuration/transforms/remap/)
- [Vector Remap Language\(VRL\)](https://vector.dev/docs/reference/vrl/)
  - [Vector / Reference / VRL / VRL function reference](https://vector.dev/docs/reference/vrl/functions/)
- [VRL Playground](https://playground.vrl.dev/)
- [Rust Regex Playground](https://rregex.dev/)

:::

[Vector Remap Language\(VRL\)](https://vector.dev/docs/reference/vrl/)을 사용하여 데이터를 수정하는 기능입니다.

```yaml title="vector-values.yaml"
customConfig:
  transforms:
    <transformID>:
      type: remap
      inputs:
        - <sourceID|transformID>
      source: |
        <VRL>
      <option>: <value>
```

```yaml title="Kubernetes default JSON parser"
customConfig:
  transforms:
    default_k8s_json_parser:
      type: remap
      inputs: []
      source: |
        .app = .kubernetes.pod_labels."app.kubernetes.io/name"
        .host = "$VECTOR_SELF_NODE_NAME"

        structured, err = parse_json(.message)
        if err == null {
          . = merge!(., structured)
          msg, err = get(., ["msg"])
          if err == null {
            .message = msg
          }
          time, err = get(., ["time"])
          if err == null {
            .timestamp = time
          }
        } else {
          .level = "warn"
        }

        del(.file)
        del(.source_type)
        del(.stream)
        del(.kubernetes)
```

## Reduce

:::info[References]

- [Vector / Reduce](https://vector.dev/docs/reference/configuration/transforms/reduce/)
- [Vector Remap Language\(VRL\)](https://vector.dev/docs/reference/vrl/)

:::

조건에 따라 여러 이벤트를 하나로 합치는 기능입니다.

```yaml title="vector-values.yaml"
customConfig:
  transforms:
    <transformID>:
      type: reduce
      inputs:
        - <sourceID|transformID>
      <option>: <value>
```

- `<option>: <value>`
  - `merge_strategies`
    - `<field>: <strategy>`
  - `starts_when`
    - `type: vrl|datadog_search|is_log|is_metric|is_trace`
    - `source: <condition>`
    - 짧은 형태로 `starts_when: <VRL>`를 사용할 수 있습니다.
